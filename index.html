<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<title>PHP API Handler</title>
	<link rel="stylesheet" href="components/css/bootstrap.min.css">
	<style>
		.navbar{
			border-radius: 0;
			margin:0;
			padding: 0;
		}
		#side-navbar{
			margin-top: 20px;
		}
		.main-content article{
			padding-top:20px;
		}
		pre{
			padding: 20px;
		}
		li > ul li {
			list-style: none;
		}
		.navbar-toggle{
			float:left;
			margin-left:15px;
			margin-right: 0;
		}
	</style>
</head>
<body>
	<a href="https://github.com/zorrodg"><img style="position: absolute; top: 0; right: 0; border: 0;z-index:9999;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
	<nav class="navbar navbar-inverse" role="navigation">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle navbar-left" data-toggle="collapse" data-target="#main-navbar">Menu</button>
				<div class="navbar-brand">PHP API Handler</div>
			</div>
			<div class="collapse navbar-collapse" id="main-navbar">
				<ul class="nav navbar-nav">
					<li class="active"><a href="#about" data-toggle="tab">About</a></li>
					<li><a href="#start" data-toggle="tab">Getting Started</a></li>
					<li><a href="#oauth" data-toggle="tab">OAuth Reference</a></li>
					<li><a href="#docs" data-toggle="tab">Docs Reference</a></li>
					<li><a href="#changelog" data-toggle="tab">Changelog</a></li>
					<li><a href="#licence" data-toggle="tab">Licence</a></li>
				</ul>
			</div>
		</div>
	</nav>
	<div class="jumbotron">
		<div class="container">
			<header class="row page-header">
				<h1>PHP API Handler</h1>
				<h3>Create your REST API in minutes :)</h3>
			</header>
		</div>
	</div>
	<div class="container">
		<div class="content row">
			<aside class="col-sm-3" id="side-navbar">
				<ul class="nav nav-stacked hidden-xs">
					<li class="active"><a href="#about" data-toggle="tab">About</a></li>
					<li><a href="#start" data-toggle="tab">Getting Started</a></li>
					<li><a href="#oauth" data-toggle="tab">OAuth Reference</a></li>
					<li><a href="#docs" data-toggle="tab">Options Reference</a></li>
					<li><a href="#changelog" data-toggle="tab">Changelog</a></li>
					<li><a href="#licence" data-toggle="tab">Licence</a></li>
				</ul>
			</aside>
			<div class="col-sm-9">
				<section class="tab-content main-content">
					<article class="tab-pane active" id="about">
						<h2>About</h2>
						<hr>
						<blockquote>
							<p>Define some endpoints and get your app running!</p>
							<p>Version: <strong>1.0.0</strong></p>
							<p>Author: <strong><a href="http://7orro.info">Andr√©s Zorro</a> <a href="mailto:zorrodg@gmail.com">&lt;zorrodg@gmail.com&gt;</a> </strong></p>
							<p>GitHub: <a href="http://github.com/zorrodg/php_apihandler" target="_blank">http://github.com/zorrodg/php_apihandler</a></p>
						</blockquote>
						<p>Due to web technologies in constant change, and the growing popular use of Front End technologies such as <strong>Backbone</strong>, <strong>Ember</strong> and <strong>AngujarJS</strong>, the need for server side MVC frameworks that render HTML templates has become increasingly obsolete, and API endpoints to get data from has become a major need.</p>
						<p>Just to think about installing <strong>CodeIgniter</strong>, <strong>Laravel</strong>, even <strong>Slim</strong> to deal with simple database calls and no HTML display, made me think about a better solution. I know that there are services that deal with APIs, but my needs (and for many other developers I suppouse) require full control over the data I am sending and storing. That's why I developed <strong>PHP API Handler.</strong></p>
						<p>The idea behind API Handler is to make it simple to develop API endpoints throught PHP. You define some Getters, Posters, Deleters and that's it. API Handler does all the heavylifting (Database queries, identify resources, encode to json or xml and output).</p>
						<p>Currently API Handler works with MySQL and outputs to JSON and XML formats. It's intended to support more database engines and more output formats. Coming soon...</p>
						<p>&nbsp;</p>
						<h2>There's still a lot to do!</h2>
						<hr>
						<p>If you want to help developing this code, there's a lot of room for improvement. Just make a pull request and work on one of the following items:</p>
						<ul>
							<li>Improve API security overall</li>
							<li>Add support for OAuth 2.0 server authentication</li>
							<li>Add support for other Database Engines. Currently supporting MySQL only :(</li>
							<li>Add support for other Outputs. Currently supporting JSON and XML</li>
						</ul>
						<h2>Enjoy!</h2>
						<hr>
						<p>If you want to thank me, I won't mind accepting a beer. :)</p>
						<p><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
<input type="hidden" name="cmd" value="_donations">
<input type="hidden" name="business" value="zorrodg@gmail.com">
<input type="hidden" name="lc" value="US">
<input type="hidden" name="item_name" value="PHP API Handler">
<input type="hidden" name="no_note" value="0">
<input type="hidden" name="currency_code" value="USD">
<input type="hidden" name="bn" value="PP-DonationsBF:btn_donateCC_LG.gif:NonHostedGuest">
<input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" alt="PayPal - The safer, easier way to pay online!">
<img alt="" border="0" src="https://www.paypalobjects.com/en_US/i/scr/pixel.gif" width="1" height="1">
</form></p>
					</article>
					<article class="tab-pane" id="start">
						<h2>Getting Started</h2>
						<p>Follow this guide to get your API up and running.</p>
						<hr>
						<ul class="nav nav-tabs">
							<li class="active"><a href="#install" data-toggle="tab">Install</a></li>
							<li><a href="#setup" data-toggle="tab">Setup</a></li>
							<li><a href="#test" data-toggle="tab">Test</a></li>
						</ul>
						<div class="tab-content">
							<div id="install" class="tab-pane active">
								<h3>Installation</h3>
								<p>In five simple steps.</p>
								<hr>
								<ol>
									<li>
										<h4>Download</h4>
										<p>Download <strong>PHP API Handler</strong> or clone it from GitHub repo. <a href="http://github.com/zorrodg/php_apihandler"target="_blank">http://github.com/zorrodg/php_apihandler</a></p>
									</li>
									<li>
										<h4><div class="label label-default">Composer</div> Install dependencies</h4>
										<p>For <strong>OAuth 1.0a</strong> signature server support to work, PHP API Handler uses oauth-php library from Marc Worrell. <a href="http://github.com/zorrodg/mworrell-oauth-php" target="_blank">http://github.com/zorrodg/php_apihandler</a>.</p>
										<p>You can automatically install all dependencies using <a href="http://getcomposer.org" target="_blank">Composer</a>.</p>
										<p>Go to the <code>api</code> folder in Terminal and run:</p>
										<p>
											<pre>composer update</pre>
										</p>
									</li>
									<li>
										<h4>Move to your server</h4>
										<p>Move <code>api</code> folder to where you want your API to be. <div class="alert alert-info">Make sure the server you use support <strong>PHP 5.4></strong> and Apache <strong>mod_rewrite</strong> is enabled. Also check that you give <strong>0777</strong> (full access) permissions to <code>api/cache</code> folder, for <strong>PHP API Handler</strong> to create cache files.</div></p>
									</li>
									<li>
										<h4>Configure API Handler</h4>
										<p>Locate <code>apihandler/api/api.config.php</code> and modify your configuration for your server:</p>
										<dl class="dl-horizontal">
											<dt><strong>DB Configuration:</strong></dt><dd> Define your database name, database username and password, database table prefix (optional) and hostname.</dd>
											<dt><strong>Database Engine:</strong></dt><dd> Currently suporting <code>mysql</code>. Other engines coming soon.</dd>
											<dt><strong>Cache:</strong> </dt><dd> Set to <code>TRUE</code> in order to cache API calls. When <code>TRUE</code>, default GET calls are cached and POST and DELETE calls are not. You can configure each call separatedely. Also define the name of the folder that will store your cached files, and the time in seconds that the cached file will be valid (default 60s).</dd>
											<dt><strong>Output:</strong></dt><dd> <code>json</code> and <code>xml</code> supported. Other outputs coming soon.</dd>
											<dt><strong>Security:</strong> </dt><dd>Set to <code>oauth1.0a</code> to use OAuth 1.0a security for your endpoints. Default GET calls are unsecured and POST and DELETE calls are secured.</dd>
											<dt><strong>Environment:</strong></dt><dd> Set error display for API calls: (<code>dev</code>, <code>stage</code> or <code>prod</code>).</dd>
										</dl>
									</li>
									<li>
										<h4>Test installation:</h4>
										<p>Go to your API installation URL. If everything went right, you should see a message encoded in your default output with this message:</p>
										<pre>No endpoint.</pre>
									</li>
								</ol>
							</div>
							<div id="setup" class="tab-pane">
								<h3>Setup</h3>
								<p>Now that you have your API up, it's time to make some endpoints.</p>
								<hr>
								<ol>
									<li>
										<h4>Locate</h4>
										<p>Locate <code>apihandler/api/registered_endpoints/</code> folder inside your API directory.</p>
										<p>There's an example file called <code>myAPI.endpoints.php</code> that you can use for reference. Every file named with this convention will be added to API Handler: <code>YOUR_FILE_NAME.endpoints.php</code></p>
									</li>
									<li>
										<h4>Declare</h4>
										<p>Create your first API endpoint. It's as easy as declaring a new class:</p>
										<p>
											<pre>new Getter("users");</pre>
										</p>
										<p>There are three classes that you can declare, each corresponds to its HTTP counterpart:</p>
										<p>
											<dl class="dl-horizontal">
												<dt><code>new Getter()</code></dt><dd> -> Declares a new GET endpoint.</dd>
												<dt><code>new Poster()</code></dt><dd> -> Declares a new POST endpoint.</dd>
												<dt><code>new Deleter()</code></dt><dd> -> Declares a new DELETE endpoint.</dd>
											</dl>
										</p>
										<p>The first parameter that class accept is the endpoint name. Endpoint name has a special notation, passed as a string, as follows:</p>
										<p>
											<pre>{name}/{verb}/{arg_name}</pre>
										</p>
										<p>
											<dl class="dl-horizontal">
												<dt><code>name</code><div class="label label-danger">Required</div></dt> <dd> ->  The endpoint name. It refers to the database table name from which data will be retrieved.</dd>
												<dt><code>verb</code><div class="label label-warning">Optional</div></dt><dd> -> The action that will be performed to the database. *</dd>
												<dt><code>arg_name</code><div class="label label-warning">Optional</div></dt><dd> ->  Can be one or several arguments separated by slashes "/". If preceded by a colon ":", indicates that the argument is a variable</dd>
											</dl>
										</p>
										<p>* - PHP API Handler is designed to "guess" action to be made on database based on common used verbs. i.e: <code>users/create</code>, <strong>"create"</strong> verb will be translated as <code>INSERT</code> in a MySQL statement. Of course, there will be verbs that are not included on the list. If you need a verb to be added, please let me know. ;)</p>
									</li>
									<li>
										<h4>Specify</h4>
										<p>You can pass options to your endpoint, in form of an array:</p>
										<p>
											<pre>new Getter("users/:id", array(
												"description" => "Get users by id.",
												"show" => array("first_name", "last_name"),
												"cacheable" => TRUE
));</pre>
										</p>
										<p>Full options documentation is available <a href="#docs" data-toggle="tab">here</a>.</p>
									</li>
									<li>
										<h4>Secure</h4>
										<p>There's a third parameter that you can pass to your API endpoint and it refers to security. You can control for each endpoint if you grant public access to it or user will need to authenticate in order to access data.</p>
										<p>
											<pre>new Poster("users/create", array(&lt;options here&gt;), TRUE);</pre>
										</p>
										<p><code>GET</code> endpoints are by default unsecured (<code>FALSE</code>) while <code>POST</code> and <code>DELETE</code> endpoints are secured (<code>TRUE</code>).</p>
									</li>
								</ol>
							</div>
							<div id="test" class="tab-pane">
								<h3>Test</h3>
								<p>Time to test if everything went right.</p>
								<hr>
								<p>When you finish your endpoint setup, you can test if everything went right by any of these methods:</p>
								<p>
									<ol>
										<li>
											<p>Going directly to your API endpoint URL, typed in this format:</p>
											<p><pre>http://{YOUR_API_LOCATION}/{YOUR_ENDPOINT_NAME}.{YOUR_FORMAT}</pre></p>
											<p>You can specify format in <code>YOUR_FORMAT</code> part, regardless of the default format you specified in config.</p>
											<p>i.e.: <code>http://localhost/apihandler/api/users.json</code></p>
										</li>
										<li>
											<p>If you use Google Chrome Browser, there's an excellent tool called <a href="https://chrome.google.com/webstore/detail/postman-rest-client/fdmmgilgnpjigdojojpjoooidkmcomcm?hl=en" target="_blank">POSTMAN</a> to test API endpoints. Use the same url notation.</p>
										</li>
										<li>
											<p>There's an <code>example</code> folder included in the repository, which contains a basic API test tool. It's coded using <a href="https://github.com/sraka1/oauth1" target="_blank">Abraham Williams' OAuth1 PHP Library</a>, as an example, but you can use any other OAuth1.0a library in your project. Remember to <code>composer update</code> on this folder too, to get latest library.</p>
										</li>
									</ol>
								</p>
							</div>
						</div>

					</article>
					<article class="tab-pane" id="oauth">
						<h2>OAuth reference</h2>
						<p>Find out more about authentication processes if you are securing your API.</p>
						<hr>
						<ul class="nav nav-tabs">
							<li class="active"><a href="#oauth1" data-toggle="tab">OAuth 1.0a</a></li>
							<li><a href="#oauth2" data-toggle="tab">OAuth 2.0</a></li>
						</ul>
						<div class="tab-content">
							<div id="oauth1" class="tab-pane active">
								<h3>OAuth 1.0a</h3>
								<p>Authentication process used by sites like Twitter.</p>
								<hr>
								<p><strong>PHP API Handler</strong> makes use of OAuth 1.0a protocol, and specifically, 3-Legged OAuth process in order to make signed requests. The steps to authenticate your endpoint calls via OAuth 1.0a are the same that are used ins sites like Twitter. </p>
								<p>There's an example of the complete OAuth flow in the <code>example</code> folder of this repository.</p>
								<p>Each one of <strong>PHP API Handler</strong> endpoint calls will return URL encoded data.</p>
								<p>The flow is as follows:</p>
								<ol>
									<li>
										<h4>Register a consumer</h4>
										<p>In order for an app to make use of your API, they must be registered consumers, that you authorize. You define how your consumers must access your API (i.e. registering in your site as developers). You must provide a form for developers to register their applications in order to make use of your API.</p>
										<p><strong>PHP API Handler</strong> provides an OAuth registry endpoint by default that you can access like this:</p>
										<p>
											<pre>http://{YOUR_API_LOCATION}/oauth/1.0a/register</pre>
										</p>
										<p>This endpoint expects the following <code>POST</code> parameters in order to register a new consumer:</p>
										<table class="table">
											<tr>
												<th>Parameter</th>
												<th>Description</th>
											</tr>
											<tr>
												<td><code>user_id</code></td>
												<td>The ID from the user associated to the consumer</td>
											</tr>
											<tr>
												<td><code>user_name</code></td>
												<td>The name from the user associated to the consumer</td>
											</tr>
											<tr>
												<td><code>user_email</code></td>
												<td>The email from the user associated to the consumer</td>
											</tr>
											<tr>
												<td><code>app_uri</code></td>
												<td>The URI from where the developer's app will call your API</td>
											</tr>
											<tr>
												<td><code>app_callback</code></td>
												<td>The URI to where the developer's app will redirect your user to</td>
											</tr>
											<tr>
												<td><code>api_uri</code></td>
												<td>The API URI. You should fill this one out, since the developer will be consulting your own API, and none other.</td>
											</tr>
										</table>
										<p>This endpoint should return an <strong>OAuth Consumer Key</strong> and an <strong>OAuth Consumer Secret</strong> to your developer for them to authenticate their calls.</p>
									</li>
									<li>
										<h4>Request token</h4>
										<p><div class="alert alert-danger"><strong>Note:</strong> From this point on, developers need to send signed requests to the endpoint in order to work. I recommend using a library for automatic sign requests, (i.e. <a href="https://github.com/sraka1/oauth1" target="_blank">Abraham Williams' OAuth1 PHP Library</a>). Read more about OAuth signed request <a href="http://oauthbible.com/#signed-requests" target="_blank">here</a>.</div></p>
										<p>Once a developer is registered in your API as a consumer, he could ask for a request token, to the following endpoint:</p>
										<p>
											<pre>http://{YOUR_API_LOCATION}/oauth/1.0a/request</pre>
										</p>
										<p>This endpoint must be signed using <strong>OAuth Consumer Key</strong> and <strong>OAuth Consumer Secret</strong> obtained from App registration. This endpoint should return temporary credentials, in form of <strong>Request Token</strong> and <strong>Request Token Secret</strong></p>
									</li>
									<li>
										<h4>Authorization from user</h4>
										<p>Developer should drive users to an authorization window where logged in users authorize application to make use of your API. The user must be presented the choice to decline authorization. From this window, developer should send a signed request to this endpoint:</p>
										<p>
											<pre>http://{YOUR_API_LOCATION}/oauth/1.0a/authorize</pre>
										</p>
										<p>This endpoint expects the following <code>REQUEST</code> parameters in order to return data:</p>
										<table class="table">
											<tr>
												<th>Parameter</th>
												<th>Description</th>
											</tr>
											<tr>
												<td><code>user_id</code></td>
												<td>The ID from the user who authorizes data usage</td>
											</tr>
											<tr>
												<td><code>user_approve</code></td>
												<td>Response from user, whether he authorizes the developer's app or not</td>
											</tr>
										</table>
										<p>This endpoint must be signed using <strong>OAuth Consumer Key</strong> and <strong>OAuth Consumer Secret</strong> obtained from App registration. This endpoint should return to the defined <strong>App Callback</strong> with an <strong>OAuth Verifier</strong> query parameter that will be used on the next step.</p>
									</li>
									<li>
										<h4>Exchange Request Token for an Access Token</h4>
										<p>Once developer has obtained <strong>Request Token</strong>, <strong>Request Token Secret</strong> and <strong>OAuth Verifier</strong>, he must exchange this token for an <strong>Access Token</strong> that will be needed to make signed request to your API endpoints.</p>
										<p>Developer should send a signed request with <strong>OAuth Consumer Key</strong>, <strong>OAuth Consumer Secret</strong>, <strong>Request Token</strong>, <strong>Request Token Secret</strong> and <strong>OAuth Verifier</strong> to this endpoint:</p>
										<p>
											<pre>http://{YOUR_API_LOCATION}/oauth/1.0a/access</pre>
										</p>
										<p>This endpoint should return an <strong>Access token</strong> and an <strong>Access Token Secret</strong> that in combination with <strong>OAuth Consumer Key</strong> and <strong>OAuth Consumer Secret</strong> are needed in order to make signed queries to your API.</p>
									</li>
								</ol>
								<p>&nbsp;</p>
								<h3>Making a signed request</h3>
								<hr>
								<p>If one of your API endpoints is signed, developer should sign his call with <strong>Access Token</strong>, <strong>Access Token Secret</strong>, <strong>OAuth Consumer Key</strong> and <strong>OAuth Consumer Secret</strong>, obtained from previous flow, in order to successfully fetch your API data.</p>
							</div>
							<div id="oauth2" class="tab-pane">
								<h3>OAuth 2.0</h3>
								<hr>
								<div class="alert alert-info">Coming soon...</div>
							</div>
						</div>
					</article>
					<article class="tab-pane" id="docs">
						<h2>Options Reference</h2>
						<p>Here's a list of all options that could be set to each endpoint, with explained examples.</p>
						<hr>
						<p>This options refer to the array of options that could be passed to each defined endpoint. Here's an example on where this options should be:</p>
						<p>
							<pre>new Getter("users", array(&lt;options here&gt;), TRUE);</pre>
						</p>
						<hr>
						<h3><code>description (string)</code></h3>
						<p>Endpoint description. Not really useful, in fact. But it could become handy whenever you want to make your API documentation ;)</p>
						<dl class="dl-horizontal">
							<dt>Example:</dt>
							<dd><pre>"description" => "Get all users."</pre></dd>
						</dl>
						<hr>
						<h3><code>create_new_table (bool)</code></h3>
						<p>Creates a new table in database with given endpoint name, if not exists. This option will not create a table if it exists.</p>
						<p><div class="alert alert-warning"><strong>Note</strong>: If you set <code>create_new_table</code> or <code>modify_existing_table</code> to <strong>TRUE</strong>, PHP API Handler automatically will create two aditional columns without prefix called <code>id</code> (int) and <code>updated</code> (timestamp).</div></p>
						<dl class="dl-horizontal">
							<dt>Example:</dt>
							<dd><pre>"create_new_table" => TRUE</pre></dd>
						</dl>
						<hr>
						<h3><code>modify_existing_table (bool)</code></h3>
						<p>Modifies an existing table, if exists and if it's params change. This option will modify table, if you change table names, change column names, data type or data length. If left TRUE, it will not modify existing tables if there are no changes.</p>
						<p><div class="alert alert-warning"><strong>Note</strong>: If you set <code>create_new_table</code> or <code>modify_existing_table</code> to <strong>TRUE</strong>, PHP API Handler automatically will create two aditional columns without prefix called <code>id</code> (int) and <code>updated</code> (timestamp).</div></p>
						<dl class="dl-horizontal">
							<dt>Example:</dt>
							<dd><pre>"modify_existing_table" => TRUE</pre></dd>
						</dl>
						<hr>
						<h3><code>columns (array)</code></h3>
						<p>Define table columns in which endpoint operates. This is an array of strings. Each string has an special notation, separated by <code>|</code> (pipe) character.</p>
						<p>Depending on the HTTP call, columns will define parameters for your query, i.e. you can call your endpoint with a filter: <code>GET http://{YOUR_ENDPOINT_LOCATION}/users.json?last_name=zorro</code></p>
						<p><div class="alert alert-warning"><strong>Note</strong>: If you set <code>create_new_table</code> or <code>modify_existing_table</code> to <strong>TRUE</strong>, columns will modify database to fit this columns.</div></p>
						<p>Special Notation: <code>{column_name}|{var_type}|{var_length}|{unique}</code></p>
						<p>
							<table class="table">
								<tr>
									<th class="text-center">Parameter</th>
									<th class="text-center" width="200">Default Value</th>
									<th>Description</th>
								</tr>
								<tr>
									<td class="text-center"><code>column_name</code></td>
									<td class="text-center"><div class="label label-danger">Required</div></td>
									<td>The name of the column.</td>
								</tr>
								<tr>
									<td class="text-center"><code>var_type</code></td>
									<td class="text-center">"string"</td>
									<td>Database column data type. Values supported <code>int</code> (INT), <code>char</code> (CHAR), <code>string</code> (VARCHAR), <code>text</code> (TEXT), <code>bigint</code> (BIGINT), <code>date</code>, (DATETIME)</td>
								</tr>
								<tr>
									<td class="text-center"><code>var_length</code></td>
									<td class="text-center">"200"</td>
									<td>The length of the data accepted. (Only for <code>int</code>, <code>char</code>, <code>bigint</code> and <code>string</code>)</td>
								</tr>
								<tr>
									<td class="text-center"><code>unique</code></td>
									<td class="text-center">""</td>
									<td>Set column key to <code>unique</code>.</td>
								</tr>

							</table>
						</p>
						<dl class="dl-horizontal">
							<dt>Example:</dt>
							<dd><pre>"columns" => array(
	"first_name|string|200|unique", 
	"last_name|string|200", 
	"group_id|int"
)</pre></dd>
						</dl>
						<hr>
						<h3><code>col_prefix (string)</code></h3>
						<p>Add a column prefix to the columns. If you define one, instead of looking at <code>col_name</code> column, it will look for <code>{prefix}col_name</code>.</p>
						<dl class="dl-horizontal">
							<dt>Example:</dt>
							<dd><pre>"col_prefix" => "aph_"</pre></dd>
						</dl>
						<hr>
						<h3><code>limit (string)</code></h3>
						<p>Set a word to use as a parameter on query string to limit results number. i.e. if you set it to <code>count</code>, you could call an endpoint like this: <code>http://{YOUR_ENDPOINT_LOCATION}/users.json?count=5</code>.</p>
						<dl class="dl-horizontal">
							<dt>Example:</dt>
							<dd><pre>"limit" => "count"</pre></dd>
						</dl>
						<hr>
						<h3><code>show (array)</code></h3>
						<p>Set the columns that will be displayed. Columns not listed will be hidden. If this option is not set, PHP API Handler will bring data from all columns.</p>
						<p><div class="alert alert-warning"><strong>Note</strong>: If you set <code>create_new_table</code> or <code>modify_existing_table</code> to <strong>TRUE</strong>, PHP API Handler automatically will create two aditional columns without prefix called <code>id</code> (int) and <code>updated</code> (timestamp). You can show them also.</div></p>
						<dl class="dl-horizontal">
							<dt>Example:</dt>
							<dd><pre>"show" => array("first_name", "last_name")</pre></dd>
						</dl>
						<hr>
						<h3><code>sort (string)</code></h3>
						<p>Sets the column to order the results. This string has an special notation, separated by <code>|</code> (pipe) character. Default order is <code>id</code> column.</p>
						<p>Special Notation: <code>{column_name}|{order_type}</code></p>
						<p>
							<table class="table">
								<tr>
									<th class="text-center">Parameter</th>
									<th class="text-center" width="200">Default Value</th>
									<th>Description</th>
								</tr>
								<tr>
									<td class="text-center"><code>column_name</code></td>
									<td class="text-center"><div class="label label-danger">Required</div></td>
									<td>The name of the column.</td>
								</tr>
								<tr>
									<td class="text-center"><code>var_type</code></td>
									<td class="text-center">"desc"</td>
									<td>The order to display. Supported values <code>asc</code> (ASC), <code>desc</code> (DESC)</td>
								</tr>
							</table>
						</p>
						<dl class="dl-horizontal">
							<dt>Example:</dt>
							<dd><pre>"sort" => "first_name|asc"</pre></dd>
						</dl>
						<hr>
						<h3><code>query (string)</code></h3>
						<p>Set a custom query to the database. If set, custom query is used instead of the one API Handler creates.</p>
						<p><div class="alert alert-warning"><strong>About kvsprintf:</strong> PHP API Handler uses a modified version of <code>vsprintf()</code> PHP native function, that supports associative arrays. It uses a special notation for identifying array keys and values: <code>%{array_key_name}\$k</code> and <code>%{array_key_name}\$v</code> replacing {array_key_name} for coresponding array key name.</div></p>
						<p><div class="alert alert-danger">When set, <strong>query must include table prefixes in order to work</strong>. If endpoint has variable arguments, column names must be included manually and with column prefixes.</div></p>
						<dl>
							<dt>Example 1: Endpoint -> <code>users</code></dt>
							<dd><pre>"query" => "SELECT * FROM `api_users` WHERE `%first_name\$k` = '%first_name\$v'"</pre></dd>
						</dl>
						<dl>
							<dt>Example 2: Endpoint -> <code>users/:first_name</code></dt>
							<dd><pre>"query" => "SELECT * FROM `api_users` WHERE `aph_first_name` = '%first_name\$v'"</pre></dd>
						</dl>
						<p>Notice on <strong>Example 2</strong> column prefix <code>aph_</code> is included for it to work.</p>
						<hr>
						<h3><code>cacheable (bool)</code></h3>
						<p>Set whether the endpoint results will be cached or not. Default <code>FALSE</code>.</p>
						<dl class="dl-horizontal">
							<dt>Example:</dt>
							<dd><pre>"cacheable" => TRUE</pre></dd>
						</dl>
						<hr>
						<h3><code>join (assoc array)</code></h3>
						<p>Set the columns from other tables that will be joined to current query. This associative array has an special notation, with key name and string value, separated by <code>|</code> (pipe) character.</p>
						<p><code>join</code> option will override result from the first query with the result of the second query, returning a complex object.</p>
						<p>You can <code>join</code> as many tables as you want, as long as there are columns in common with your current query.</p>
						<p>Special Notation: <code>{key} => {first_col}|{second_col}|{cols_to_fetch}</code></p>
						<p>
							<table class="table">
								<tr>
									<th class="text-center">Parameter</th>
									<th class="text-center" width="200">Default Value</th>
									<th>Description</th>
								</tr>
								<tr>
									<td class="text-center"><code>key</code></td>
									<td class="text-center"><div class="label label-danger">Required</div></td>
									<td>The name of the table that will be joined.</td>
								</tr>
								<tr>
									<td class="text-center"><code>first_col</code></td>
									<td class="text-center"><div class="label label-danger">Required</div></td>
									<td>Column from the first table (primary table, if you wish) that will be associated.</td>
								</tr>
								<tr>
									<td class="text-center"><code>second_col</code></td>
									<td class="text-center"><div class="label label-danger">Required</div></td>
									<td>Column from the second table that will be associated. The values fomr the first and the second must match.</td>
								</tr>
								<tr>
									<td class="text-center"><code>cols_to_fetch</code></td>
									<td class="text-center">FALSE</td>
									<td>Columns that will be fetched from the second table, separated by <code>,</code>. If you don't assign it, It will fetch all columns from second table (similar to <code>show</code> option)</td>
								</tr>
							</table>
						</p>
						<dl class="dl-horizontal">
							<dt>Example:</dt>
							<dd><pre>"join" => array("groups" => "group_id|id",
		"teams" => "team_id|id|team_name,team_desc"
		)</pre></dd>
						</dl>
					</article>
					<article class="tab-pane" id="changelog">
						<h2>Changelog</h2>
						<p>What's new on PHP API Handler!</p>
						<hr>
						<h3>Version 1.0.0</h3>
						<p>Initial release. It has several features:</p>
						<ul>
							<li>Define Getter, Poster and Deleter classes to create API endpoints</li>
							<li>Support for JSON and XML output formats</li>
							<li>Support for MySQL database engine</li>
							<li>Support for OAuth 1.0a signed calls (Using <a href="https://github.com/sraka1/oauth1" target="_blank">mworrell-oauth-php</a>)</li>
							<li>Predefined OAuth flow endpoints to authorize applications</li>
							<li>Support for custom database query strings, to handle personalized data handling</li>
							<li>Support for join replace queries, relationship between tables with fields in common</li>
							<li>JSON Test application example provided, to test API endpoints</li>
						</ul>
					</article>
					<article class="tab-pane" id="licence">
						<h2>Licence</h2>
						<p>PHP API Handler is licenced under MIT Licence:</p>
						<hr>
						<h4>The MIT License (MIT)</h4>

						<p><strong>Copyright &copy; 2014 zorrodg</strong></p>

						<p>Permission is hereby granted, free of charge, to any person obtaining a copy
						of this software and associated documentation files (the "Software"), to deal
						in the Software without restriction, including without limitation the rights
						to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
						copies of the Software, and to permit persons to whom the Software is
						furnished to do so, subject to the following conditions:</p>

						<p>The above copyright notice and this permission notice shall be included in all
						copies or substantial portions of the Software.</p>

						<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
						IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
						FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
						AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
						LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
						OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
						SOFTWARE.</p>
					</article>
				</section>
			</div>
		</div>
	</div>
	<footer>
		<div class="container">
			<hr>
			<strong>&copy; 2014 <a href="http://github.com/zorrodg">zorrodg</a> / <a href="http://github.com/zorrodg/php_apihandler">API Handler Site</a></strong>
			<p>&nbsp;</p>
		</div>
	</footer>
	<script src="components/js/jquery.min.js"></script>
	<script src="components/js/bootstrap.min.js"></script>
	<script>
		(function($){
			var hash = window.location.hash,
				nav = hash.substr(1).split("-"),
				$main =	$('#main-navbar');
				$side = $('#side-navbar');

			$('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
				var $target = $(e.target), main = "", secondary = "", hash;
				if($target.closest($main).length > 0 || $target.closest($side).length > 0){
					main = $target.attr('href');
					$main.find('li').removeClass('active');
					$main.find('a[href="'+main+'"]').parent('li').addClass('active');
				} else {
					main = '#' + $target.parents(".tab-pane").attr('id');
					secondary = $target.attr('href').replace('#','-');
				}
				hash = main+secondary;
			  	if(window.location.hash !== hash){
			  		window.location.hash = hash;
			  	}
			});

			if(nav.length > 1){
				$main.find('a[href="#'+nav[0]+'"]').tab('show');
				$('#'+nav[0]).children('.nav').find('a[href="#'+nav[1]+'"]').tab('show');
			} else {
				$main.find('a[href="#'+nav[0]+'"]').tab('show');
			}
		})($);
	</script>
</body>
</html>